#!/usr/bin/env python3
import tkinter as tk
import webbrowser
from tkinter import filedialog


# Function for opening the
# file explorer window
def browseFiles(label):
    filename = filedialog.askopenfilename(
        initialdir="./",
        title="Select a File",
        filetypes=(("CSV files", "*.csv*"), ("all files", "*.*")),
    )

    label.configure(text="File Opened: " + filename)


def main():
    window = tk.Tk()
    window.geometry("1000x500")
    window.config(background="white")

    title = tk.Label(
        window,
        text="Sea Ice Phenology Detection\nby ICE Lab at University of Victoria",
        width=50,
        height=4,
        fg="black",
    )
    title.config(background="white")

    # Create a File Explorer label
    label_file_explorer = tk.Label(window, text="File Opened: ", fg="blue")

    url = "https://sangwon.users.earthengine.app/view/seaicephenology"

    def OpenUrl(url):
        webbrowser.open_new(url)

    button_MODIS = tk.Button(
        window, text="Retrieve MODIS data", command=lambda aurl=url: OpenUrl(aurl)
    )

    button_explore = tk.Button(
        window,
        text="Browse Files",
        command=lambda label=label_file_explorer: browseFiles(label),
    )

    button_exit = tk.Button(window, text="Exit", command=exit)

    # Grid method is chosen for placing
    # the widgets at respective positions
    # in a table like structure by
    # specifying rows and columns
    title.grid(column=0, row=1)
    button_MODIS.grid(column=0, row=3)
    button_explore.grid(column=0, row=4)
    label_file_explorer.grid(column=1, row=4)
    button_exit.grid(column=0, row=5)

    window.mainloop()


if __name__ == "__main__":
    main()
